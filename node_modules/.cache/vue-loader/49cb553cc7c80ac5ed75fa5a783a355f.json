{"remainingRequest":"/home/arthur/dev/js/Smoothie/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/arthur/dev/js/Smoothie/src/components/utils/FileList.vue?vue&type=style&index=0&id=1d5efe08&scoped=true&lang=less&","dependencies":[{"path":"/home/arthur/dev/js/Smoothie/src/components/utils/FileList.vue","mtime":1536003969244},{"path":"/home/arthur/dev/js/Smoothie/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/arthur/dev/js/Smoothie/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/arthur/dev/js/Smoothie/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/home/arthur/dev/js/Smoothie/node_modules/less-loader/dist/cjs.js","mtime":1535381346263},{"path":"/home/arthur/dev/js/Smoothie/node_modules/cache-loader/dist/cjs.js","mtime":1535381333659},{"path":"/home/arthur/dev/js/Smoothie/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.filename{\n  font-family: monospace;\n}\n",{"version":3,"sources":["FileList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA","file":"FileList.vue","sourceRoot":"src/components/utils","sourcesContent":["<template>\n  <div class=\"filelist\">\n    <div v-if=\"error\" class=\"callout callout-danger\">\n      <h4> <i class=\"fas fa-exclamation-circle fa-fw fa-lg\"></i> Error </h4>\n      <p> {{error}} </p>\n    </div>\n    <div v-else>\n      <table class=\"table table-striped\">\n        <thead class='thead-dark'>\n        <tr>\n          <th style=\"width:30px;\"></th>\n          <th> File name </th>\n          <th style=\"width:100px;\"> Size </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"file in file_list\" v-bind:key=\"file.name\">\n            <td>\n              <div v-if=\"file.folder\">\n                <i class=\"fas fa-folder fa-fw fa-lg\"></i>\n              </div>\n              <div v-else>\n                <i v-if=\"file.name.match(/txt$/)\"              class=\"fas fa-file-word fa-fw fa-lg\"></i>\n                <i v-else-if=\"file.name.match(/^config/)\"      class=\"fas fa-file-signature fa-fw fa-lg\"></i>\n                <i v-else-if=\"file.name.match(/^firmware/)\"    class=\"fas fa-microchip fa-fw fa-lg\"></i>\n                <i v-else-if=\"file.name.match(/(nc|gcode)$/)\"  class=\"fas fa-file-code fa-fw fa-lg\"></i>\n                <i v-else-if=\"file.name.match(/(png|jpg)$/)\"   class=\"fas fa-file-image fa-fw fa-lg\"></i>\n                <i v-else-if=\"file.name.match(/(html)$/)\"      class=\"fas fa-file-invoice fa-fw fa-lg\"></i>\n                <i v-else                                      class=\"fas fa-file-alt fa-fw fa-lg\"></i>\n              </div>\n            </td>\n            <td v-if=\"file.folder\" class=\"filename\"> <router-link :to=\"{path: file.name + '/'}\">{{file.name}}</router-link> </td>\n            <td v-else             class=\"filename\"> <router-link :to=\"'/file' + file.path\">{{file.name}}</router-link> </td>\n            <td> {{file.size}} </td>\n        </tr>\n        </tbody>\n      </table>\n      <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\">\n          <li v-for=\"step in steps\" class=\"breadcrumb-item\" v-bind:key=\"step.name\" v-bind:class=\"{ active: step.last }\">\n            <span v-if=\"step.last\">\n              {{step.name}}\n            </span>\n            <span v-else>\n              <router-link :to=\"'/jobs/' + step.path + '/'\">{{step.name}}</router-link>\n            </span>\n          </li>\n        </ol>\n      </nav>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FileList',\n  data(){ return {\n    file_list: [],\n    error: ''\n  }},\n  props:{path:String},\n  mounted(){\n    var that = this;\n    machine.communication.on_connected.push( () => {\n      machine.files.list(that.path).then((files) => { that.error = ''; that.file_list = files; }).catch((why) => { that.error = why; });\n    });\n  },\n  watch: {\n    '$route' () {\n      var that = this;\n      machine.files.list(that.path).then((files) => { that.error = ''; that.file_list = files; }).catch((why) => { that.error = why; });\n    }\n  },\n  computed: {\n    steps: function(){\n      var done = []; var result = [];\n      var short_path = this.path.replace(/(^\\/|\\/$)/g,'').split('/');\n      short_path.forEach((item) => { done.push(item); result.push({path:done.join('/'), name:item, last: short_path.length == result.length+1 }); });\n      return result;\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n.filename{\n  font-family: monospace;\n}\n</style>\n"]}]}